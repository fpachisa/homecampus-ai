
  ğŸ¯ PARENT DASHBOARD V2: COMPREHENSIVE IMPLEMENTATION PLAN

  Executive Summary

  Transform the current basic Parent Dashboard into a comprehensive learning analytics platform that answers parents' key questions:
  - "How is my child doing?"
  - "Where are they struggling?"
  - "How can I help?"

  ---
  I. CORE DESIGN PHILOSOPHY

  Parents Want:
  1. Quick Overview (80% of visits) - "Is everything okay?"
  2. Deep Insights (20% of visits) - "What specifically is happening?"
  3. Actionable Guidance - "What should I do?"

  Design Principles:
  1. Progressive Disclosure: Show summary first, details on demand
  2. Growth-Oriented Framing: "Building skills" not "failing"
  3. Multi-Child First: Easy switching between children
  4. Mobile-Responsive: 65% of parents check on mobile
  5. Privacy-Conscious: Balance transparency with student autonomy

  ---
  II. DASHBOARD LAYOUT (NEW DESIGN)

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ HEADER: Family Overview Bar                                  â”‚
  â”‚ - All children quick stats                                   â”‚
  â”‚ - Child selector dropdown                                    â”‚
  â”‚ - Date range filter (7d, 30d, 3m, all)                      â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ HERO: Child Overview Card (if child selected)               â”‚
  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚ â”‚   Avatar    â”‚ Emma, Grade 10                          â”‚  â”‚
  â”‚ â”‚   ğŸ‘§        â”‚ Last active: 2 hours ago                â”‚  â”‚
  â”‚ â”‚             â”‚ ğŸ”¥ 7-day streak | Level 5 | 540 XP     â”‚  â”‚
  â”‚ â”‚             â”‚ [View Live Session] (if active now)    â”‚  â”‚
  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ KEY METRICS GRID (4 cards with trend indicators)            â”‚
  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚ â”‚ This Week    â”‚ Topics       â”‚ Accuracy     â”‚ Streak   â”‚  â”‚
  â”‚ â”‚ 5h 32m       â”‚ 3/12 (25%)   â”‚ 87%          â”‚ 7 days   â”‚  â”‚
  â”‚ â”‚ â†‘ +23%       â”‚ â†‘ +1 topic   â”‚ â†‘ +5%        â”‚ ğŸ”¥ Best! â”‚  â”‚
  â”‚ â”‚ vs last week â”‚ completed    â”‚ improved     â”‚ ever     â”‚  â”‚
  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ ğŸ“Š LEARNING ACTIVITY (Last 30 days)                         â”‚
  â”‚ - Activity heatmap calendar                                  â”‚
  â”‚ - Daily XP earned bar chart                                  â”‚
  â”‚ - Study time line chart                                      â”‚
  â”‚ - Streak visualization                                       â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ âœ… STRONG AREAS      â”‚ âš ï¸  NEEDS ATTENTION                 â”‚
  â”‚                      â”‚                                      â”‚
  â”‚ âœ“ Trigonometry       â”‚ âš  Algebra (58%)                     â”‚
  â”‚   Progress: 92%      â”‚   Issues: Word problems             â”‚
  â”‚   Mastery: High      â”‚   Hints used: 15 (high)             â”‚
  â”‚   Time: 3h 20m       â”‚   Action: Review basics together    â”‚
  â”‚                      â”‚                                      â”‚
  â”‚ âœ“ Geometry (88%)     â”‚ âš  Calculus (61%)                    â”‚
  â”‚ âœ“ Statistics (85%)   â”‚   Issues: Chain rule                â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ ğŸ’¡ INSIGHTS & RECOMMENDATIONS (Personalized)                â”‚
  â”‚ âœ¨ Great progress this week! +23% more study time           â”‚
  â”‚ ğŸ¯ Emma's accuracy improved 5% - techniques are working!    â”‚
  â”‚ ğŸ” Algebra needs attention - consider reviewing together    â”‚
  â”‚ ğŸ”¥ 7-day streak! Encourage Emma to keep it up tomorrow      â”‚
  â”‚ ğŸ“š Suggested: Khan Academy Algebra review (15 min)          â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ ğŸ† RECENT ACHIEVEMENTS (Last 7 days)                        â”‚
  â”‚ ğŸ† Perfectionist (3 days ago) - 5 perfect scores in a row  â”‚
  â”‚ ğŸ”¥ Week Warrior (yesterday) - 7-day study streak            â”‚
  â”‚ â­ Level 5 Reached (1 week ago) - Earned 500 XP             â”‚
  â”‚ [View All 12 Achievements â†’]                                 â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ ğŸ“– TOPICS BREAKDOWN (Expandable list)                       â”‚
  â”‚ â–¼ Trigonometry (92% complete)                               â”‚
  â”‚   â”œâ”€ Basic Ratios âœ“ (100%, 45 min, 12 problems)           â”‚
  â”‚   â”œâ”€ Unit Circle âŸ³ (85%, 38 min, 10 problems)             â”‚
  â”‚   â””â”€ Identities ğŸ”’ (Locked - Complete Unit Circle first)   â”‚
  â”‚                                                              â”‚
  â”‚ â–¼ Algebra (58% complete) âš  Needs attention                 â”‚
  â”‚   â”œâ”€ Linear Equations âœ“ (100%, 32 min, 15 problems)       â”‚
  â”‚   â”œâ”€ Quadratics âŸ³ (60%, 28 min, 8 problems) âš             â”‚
  â”‚   â””â”€ Polynomials ğŸ”’ (Locked)                               â”‚
  â”‚ [View All Topics â†’]                                          â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ ğŸ“… RECENT ACTIVITY LOG (Detailed timeline)                  â”‚
  â”‚ Nov 13, 2025                                                â”‚
  â”‚ â€¢ 3:45 PM - Trigonometry: Unit Circle (22 min, 5 problems) â”‚
  â”‚   Accuracy: 80% (4/5 correct), 2 hints used                â”‚
  â”‚ â€¢ 2:15 PM - Algebra: Quadratics (18 min, 3 problems)       â”‚
  â”‚   Accuracy: 67% (2/3 correct), 3 hints used âš               â”‚
  â”‚                                                              â”‚
  â”‚ Nov 12, 2025                                                â”‚
  â”‚ â€¢ 4:00 PM - Geometry: Triangles (35 min, 8 problems)       â”‚
  â”‚   Accuracy: 100% (8/8 correct) ğŸ‰                           â”‚
  â”‚ [Load More â†’]                                                â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ ğŸ“ˆ GROWTH TRENDS     â”‚ ğŸ¨ LEARNING PROFILE                 â”‚
  â”‚ - Progress over time â”‚ - Preferred style: Visual           â”‚
  â”‚ - XP trajectory      â”‚ - Best time: Afternoon (3-5 PM)     â”‚
  â”‚ - Accuracy trends    â”‚ - Session length: 20-30 min avg     â”‚
  â”‚ - Study consistency  â”‚ - Confidence: Medium-High           â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ ğŸ“¥ EXPORT & SHARE                                            â”‚
  â”‚ [Download PDF Report] [Email Weekly Digest] [Print]         â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  ---
  III. DETAILED METRICS & DATA SOURCES

  A. Key Metrics Cards (Top Row)

  | Metric          | Data Source                                                                                | Calculation                | Display                     |
  |-----------------|--------------------------------------------------------------------------------------------|----------------------------|-----------------------------|
  | This Week Time  | PracticeProgress.weeklyStats.timeSpentSecondsLearnConversation.sessionStats.totalTimeSpent | Sum last 7 days            | 5h 32mTrend: â†‘ +23%         |
  | Topics Progress | ProgressSummary.totalTopicsCompletedProgressSummary.totalTopicsStarted                     | Completed/Total            | 3/12 (25%)Trend: â†‘ +1       |
  | Accuracy Rate   | PracticeProgress.totalProblemsCorrectLearnConversation.sessionStats.correctAnswers         | Correct/Attempted Ã— 100    | 87%Trend: â†‘ +5%             |
  | Current Streak  | userProfile.gamification.dailyStreak.currentStreak                                         | From global streak service | 7 days ğŸ”¥Badge if best ever |

  B. Activity Visualization

  Heatmap Calendar (30 days):
  source: ProgressSummary.recentActivity[]
  display: GitHub-style contribution calendar
  colors:
    - None: gray (no activity)
    - Light: green-100 (1-2 problems)
    - Medium: green-300 (3-5 problems)
    - Dark: green-500 (6+ problems)

  XP Chart (7 days):
  source: PracticeProgress.sessionHistory[]
  display: Bar chart (daily XP)
  trend line: Show average
  highlight: Best day

  C. Strengths & Weaknesses

  Strong Areas (show top 3):
  criteria: progress >= 80% AND accuracy >= 85%
  source: ProgressSummary.learnSubtopics, practiceTopics
  sort: By progress descending
  display:
    - Topic name
    - Progress percentage
    - Mastery level (High/Medium/Low)
    - Time invested

  Needs Attention (show top 3):
  criteria:
    - accuracy < 70% OR
    - hintsUsed > 10 (per topic) OR
    - timeSpent high but progress low OR
    - multiple failed attempts
  source: LearnConversation.studentProfile.strugglingWith
  display:
    - Topic name + progress
    - Specific issues (from AI analysis)
    - Hint usage indicator
    - Actionable recommendation

  D. Learning Insights (AI-Generated)

  Insight Categories:
  1. Progress Celebration: Highlight improvements
  2. Behavioral Patterns: Study habits, peak times
  3. Academic Alerts: Topics needing attention
  4. Motivational Tips: Encourage streaks, achievements
  5. Resource Recommendations: External resources

  Example Insights:
  {
    type: 'celebration',
    icon: 'âœ¨',
    message: "Great progress this week! +23% more study time",
    sentiment: 'positive'
  },
  {
    type: 'alert',
    icon: 'âš ï¸',
    message: "Algebra accuracy dropped to 58% - consider reviewing basics together",
    sentiment: 'warning',
    action: {
      label: "View Struggling Topics",
      route: "/parent/child/emma/topics/algebra"
    }
  },
  {
    type: 'recommendation',
    icon: 'ğŸ“š',
    message: "Suggested resource: Khan Academy Algebra (15 min review)",
    link: "https://khanacademy.org/algebra"
  }

  ---
  IV. COMPONENT ARCHITECTURE

  New Components to Build:

  src/components/parent/
  â”œâ”€â”€ v2/
  â”‚   â”œâ”€â”€ ParentDashboardV2.tsx          # Main container
  â”‚   â”œâ”€â”€ FamilyOverviewBar.tsx          # Multi-child header
  â”‚   â”œâ”€â”€ ChildSelector.tsx              # Dropdown to switch children
  â”‚   â”œâ”€â”€ ChildHeroCard.tsx              # Hero section with key stats
  â”‚   â”œâ”€â”€ MetricCard.tsx                 # Reusable metric with trend
  â”‚   â”œâ”€â”€ ActivityHeatmap.tsx            # 30-day calendar visualization
  â”‚   â”œâ”€â”€ ActivityCharts.tsx             # XP/time line & bar charts
  â”‚   â”œâ”€â”€ StrengthsWeaknessesPanel.tsx  # Side-by-side comparison
  â”‚   â”œâ”€â”€ InsightsPanel.tsx              # AI-generated insights
  â”‚   â”œâ”€â”€ RecentAchievements.tsx         # Achievement list
  â”‚   â”œâ”€â”€ TopicsBreakdown.tsx            # Expandable topic tree
  â”‚   â”œâ”€â”€ ActivityLog.tsx                # Detailed timeline
  â”‚   â”œâ”€â”€ LearningProfile.tsx            # Study patterns & preferences
  â”‚   â”œâ”€â”€ TrendCharts.tsx                # Growth over time
  â”‚   â””â”€â”€ ExportReportButton.tsx         # PDF download
  â””â”€â”€ (existing components)

  Reusable Hooks:

  // New hooks to create
  src/hooks/
  â”œâ”€â”€ useParentAnalytics.ts      # Aggregate child analytics
  â”œâ”€â”€ useChildProgress.ts        # Individual child progress data
  â”œâ”€â”€ useActivityData.ts         # Activity heatmap & charts data
  â”œâ”€â”€ useInsightsGenerator.ts    # Generate AI insights
  â””â”€â”€ useTrendAnalysis.ts        # Calculate trends & growth

  // Example: useChildProgress.ts
  export function useChildProgress(childUid: string) {
    const [loading, setLoading] = useState(true);
    const [data, setData] = useState<ChildProgressData | null>(null);

    useEffect(() => {
      async function loadData() {
        // Load ProgressSummary
        const summary = await getProgressSummary(childUid);

        // Load gamification stats
        const userProfile = await getUserProfile(childUid);

        // Calculate derived metrics
        const metrics = {
          weeklyTime: calculateWeeklyTime(summary),
          accuracy: calculateAccuracy(summary),
          topicsProgress: calculateTopicsProgress(summary),
          currentStreak: userProfile.gamification?.dailyStreak?.currentStreak || 0,
          // ... more metrics
        };

        setData({ summary, metrics });
        setLoading(false);
      }

      loadData();
    }, [childUid]);

    return { data, loading };
  }

  ---
  V. DATA FLOW & SERVICES

  Service Layer Enhancements:

  // src/services/parentAnalyticsService.ts
  export class ParentAnalyticsService {
    /**
     * Get comprehensive analytics for a child
     */
    async getChildAnalytics(childUid: string, timeRange: '7d' | '30d' | '3m' | 'all') {
      const summary = await getProgressSummary(childUid);
      const userProfile = await getUserProfile(childUid);

      return {
        overview: this.calculateOverview(summary, userProfile),
        metrics: this.calculateKeyMetrics(summary, timeRange),
        activity: this.getActivityData(summary, timeRange),
        strengths: this.identifyStrengths(summary),
        weaknesses: this.identifyWeaknesses(summary),
        insights: this.generateInsights(summary, userProfile),
        achievements: this.getRecentAchievements(summary, timeRange),
        topics: this.getTopicsBreakdown(summary),
        activityLog: this.getActivityLog(summary, timeRange),
        trends: this.calculateTrends(summary, timeRange),
      };
    }

    /**
     * Generate AI insights for parent
     */
    private generateInsights(summary: ProgressSummary, profile: UserProfile) {
      const insights: Insight[] = [];

      // Celebration insights
      if (this.hasImprovement(summary)) {
        insights.push({
          type: 'celebration',
          message: this.getCelebrationMessage(summary),
          priority: 1
        });
      }

      // Alert insights
      const strugglingTopics = this.getStrugglingTopics(summary);
      if (strugglingTopics.length > 0) {
        insights.push({
          type: 'alert',
          message: `${strugglingTopics[0].displayName} needs attention`,
          priority: 2,
          action: { ... }
        });
      }

      // Recommendation insights
      // ... more logic

      return insights.sort((a, b) => a.priority - b.priority);
    }
  }

  ---
  VI. IMPLEMENTATION ROADMAP

  Phase 1: MVP (Week 1-2)

  Goal: Replace current parent dashboard with essential features

  Tasks:
  1. âœ… Create ParentDashboardV2.tsx main container
  2. âœ… Build ChildSelector for multi-child support
  3. âœ… Implement ChildHeroCard with key stats
  4. âœ… Create 4 MetricCard components (time, topics, accuracy, streak)
  5. âœ… Build ActivityHeatmap (30-day calendar)
  6. âœ… Implement StrengthsWeaknessesPanel
  7. âœ… Add basic InsightsPanel (3-5 static insights)
  8. âœ… Create parentAnalyticsService.ts
  9. âœ… Build useChildProgress hook
  10. âœ… Test with multiple children

  Deliverables:
  - Functional parent dashboard with essential metrics
  - Multi-child support
  - Basic insights panel
  - Mobile-responsive design

  ---
  Phase 2: Rich Analytics (Week 3-4)

  Goal: Add deep insights and visualizations

  Tasks:
  1. âœ… Build ActivityCharts (XP/time graphs)
  2. âœ… Implement TopicsBreakdown (expandable tree)
  3. âœ… Create ActivityLog (detailed timeline)
  4. âœ… Add RecentAchievements panel
  5. âœ… Build LearningProfile (study patterns)
  6. âœ… Implement TrendCharts (growth over time)
  7. âœ… Enhance InsightsPanel with AI-generated insights
  8. âœ… Add trend indicators to all metrics
  9. âœ… Implement date range filter (7d, 30d, 3m, all)
  10. âœ… Add drill-down navigation (click to see details)

  Deliverables:
  - Comprehensive analytics dashboard
  - AI-generated insights
  - Trend analysis
  - Interactive drill-downs

  ---
  Phase 3: Export & Sharing (Week 5)

  Goal: Enable report generation and sharing

  Tasks:
  1. âœ… Build ExportReportButton component
  2. âœ… Implement PDF report generation
  3. âœ… Create email digest system (weekly summaries)
  4. âœ… Add print-friendly view
  5. âœ… Implement shareable report links
  6. âœ… Add parent-teacher conference mode (summary view)

  Deliverables:
  - PDF export functionality
  - Email digest system
  - Print-friendly views
  - Shareable reports

  ---
  Phase 4: Advanced Features (Week 6)

  Goal: Polish and advanced capabilities

  Tasks:
  1. âœ… Add goal-setting for children
  2. âœ… Implement parent-child messaging
  3. âœ… Create custom dashboard widgets (drag-and-drop)
  4. âœ… Add historical data comparison (year-over-year)
  5. âœ… Implement alert preferences (email, SMS, push)
  6. âœ… Add privacy controls (what child can hide)
  7. âœ… Performance optimization (lazy loading, caching)
  8. âœ… A/B testing framework

  Deliverables:
  - Fully featured parent dashboard
  - Customization options
  - Privacy controls
  - Production-ready

  ---
  VII. PRIVACY & SECURITY CONSIDERATIONS

  What Parents CAN See:

  - âœ… Overall progress percentages
  - âœ… Topics started and completed
  - âœ… Weekly time spent (aggregated)
  - âœ… Weekly accuracy (aggregated)
  - âœ… Learning preferences (visual/procedural/conceptual)
  - âœ… Struggling topics (high-level)
  - âœ… Achievements and milestones
  - âœ… Study patterns and habits
  - âœ… Streak information

  What Parents CANNOT See:

  - âŒ Specific student answers (privacy)
  - âŒ Individual tutor messages (student-tutor relationship)
  - âŒ Specific hints given (would enable cheating)
  - âŒ Emotional signals or confidence per problem (too granular)
  - âŒ Real-time "what are they doing now" tracking (autonomy)
  - âŒ Problem-by-problem breakdown (too detailed)

  Privacy Controls:

  // Future: Student can hide certain metrics
  interface PrivacySettings {
    showAccuracy: boolean;      // Default: true
    showTimeSpent: boolean;     // Default: true
    showStrugglingTopics: boolean; // Default: true
    showActivityLog: boolean;   // Default: true
    showAchievements: boolean;  // Default: true
  }

  ---
  VIII. TECHNICAL SPECIFICATIONS

  Performance Targets:

  - Initial load: < 2 seconds
  - Dashboard refresh: < 500ms
  - Heatmap render: < 300ms
  - Charts render: < 400ms
  - Export PDF: < 3 seconds

  Mobile Responsiveness:

  - Breakpoints: 640px (mobile), 768px (tablet), 1024px (desktop)
  - Mobile: Stack all panels vertically
  - Tablet: 2-column grid for metrics
  - Desktop: Full layout as designed

  Browser Support:

  - Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
  - Mobile: iOS Safari 14+, Chrome Mobile 90+

  Accessibility:

  - WCAG 2.1 AA compliance
  - Screen reader support
  - Keyboard navigation
  - High contrast mode support

  ---
  IX. SUCCESS METRICS

  User Engagement:
  - 70%+ of parents log in weekly
  - 40%+ view detailed analytics (drill-down)
  - 25%+ export reports monthly

  User Satisfaction:
  - 80%+ understand child's progress without explanation
  - 85%+ find insights helpful
  - 90%+ find alerts actionable
  - 75%+ satisfied with dashboard design

  Technical Performance:
  - < 2s initial load time
  - < 500ms dashboard interactions
  - 99.9% uptime
  - 0 critical bugs in production

  ---
  X. NEXT STEPS TO START IMPLEMENTATION

  Immediate Actions:
  1. Review & Approve Plan - Discuss any changes needed
  2. Setup Dev Environment - Create parent/v2/ directory
  3. Create Base Components - Start with ParentDashboardV2.tsx
  4. Build Service Layer - Implement parentAnalyticsService.ts
  5. Create Hooks - Start with useChildProgress.ts
  6. Test with Real Data - Use existing ProgressSummary data
  7. Iterate Quickly - Get feedback early and often